<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/basic.css">
    <link rel="stylesheet" href="css/ad_number.css">
    <link rel="stylesheet" href="./css/swiper.min.css">
</head>
<body>
<div class="stars"></div>
<div class="big-box">
    <div class="header_img">
        <div class="logo"></div>
        <div class="title-text">全国影视数据展示</div>
    </div>
    <div class="content box_flex">
        <div class="left-box">
            <!--<div class="left-top swiper-container swiper1" >-->
                <!--<div class="swiper-wrapper">-->
                    <!--<div class="swiper-slide" id="test10"></div>-->
                    <!--<div class="swiper-slide" id="test20"></div>-->
                    <!--<div class="swiper-slide" id="test30"></div>-->
                <!--</div>-->
            <!--</div>-->
            <div class="left-top" id="test10">

            </div>
            <!--<div class="left-middle swiper-container swiper2">-->
                <!--<div class="carousel1 swiper-wrapper">-->
                    <!--<div class="carousel-chart1 swiper-slide" id="test40"></div>-->
                    <!--<div class="carousel-chart2 swiper-slide" id="test50"></div>-->
                    <!--<div class="carousel-chart3 swiper-slide" id="test60"></div>-->
                <!--</div>-->
            <!--</div>-->
            <div class="left-middle">
                <!--<div class="swiper-container scroll-container">-->
                    <!--<div class="swiper-wrapper box-big">-->
                        <!--<div class="box swiper-slide">-->
                            <!--<div class="img">-->
                                <!--<div class="num">1</div>-->
                            <!--</div>-->
                            <!--<div class="movie-name">电影1</div>-->
                            <!--<div class="shape">sf</div>-->
                            <!--<div class="num">1232342</div>-->
                        <!--</div>-->
                        <!--<div class="box swiper-slide">-->
                            <!--<div class="img">-->
                                <!--<div class="num">1</div>-->
                            <!--</div>-->
                            <!--<div class="movie-name">电影1</div>-->
                            <!--<div class="shape">sdf</div>-->
                            <!--<div class="num">1232342</div>-->
                        <!--</div>-->
                        <!--<div class="box swiper-slide">-->
                            <!--<div class="img">-->
                                <!--<div class="num">1</div>-->
                            <!--</div>-->
                            <!--<div class="movie-name">电影1</div>-->
                            <!--<div class="shape">dsdf</div>-->
                            <!--<div class="num">1232342</div>-->
                        <!--</div>-->
                        <!--<div class="box swiper-slide">-->
                            <!--<div class="img">-->
                                <!--<div class="num">1</div>-->
                            <!--</div>-->
                            <!--<div class="movie-name">电影1</div>-->
                            <!--<div class="shape">sdf</div>-->
                            <!--<div class="num">1232342</div>-->
                        <!--</div>-->
                        <!--<div class="box swiper-slide">-->
                            <!--<div class="img">-->
                                <!--<div class="num">1</div>-->
                            <!--</div>-->
                            <!--<div class="movie-name">电影1</div>-->
                            <!--<div class="shape">ds</div>-->
                            <!--<div class="num">1232342</div>-->
                        <!--</div>-->
                        <!--<div class="box swiper-slide">-->
                            <!--<div class="img">-->
                                <!--<div class="num">1</div>-->
                            <!--</div>-->
                            <!--<div class="movie-name">电影1</div>-->
                            <!--<div class="shape">sd</div>-->
                            <!--<div class="num">1232342</div>-->
                        <!--</div>-->
                        <!--<div class="box swiper-slide">-->
                            <!--<div class="img">-->
                                <!--<div class="num">1</div>-->
                            <!--</div>-->
                            <!--<div class="movie-name">电影1</div>-->
                            <!--<div class="shape">sfd</div>-->
                            <!--<div class="num">1232342</div>-->
                        <!--</div>-->
                        <!--<div class="box swiper-slide">-->
                            <!--<div class="img">-->
                                <!--<div class="num">1</div>-->
                            <!--</div>-->
                            <!--<div class="movie-name">电影1</div>-->
                            <!--<div class="shape">sdf</div>-->
                            <!--<div class="num">1232342</div>-->
                        <!--</div>-->
                        <!--<div class="box swiper-slide">-->
                            <!--<div class="img">-->
                                <!--<div class="num">1</div>-->
                            <!--</div>-->
                            <!--<div class="movie-name">电影1</div>-->
                            <!--<div class="shape">sdf</div>-->
                            <!--<div class="num">1232342</div>-->
                        <!--</div>-->
                        <!--<div class="box swiper-slide">-->
                            <!--<div class="img">-->
                                <!--<div class="num">1</div>-->
                            <!--</div>-->
                            <!--<div class="movie-name">电影1</div>-->
                            <!--<div class="shape">sdf</div>-->
                            <!--<div class="num">1232342</div>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
                <div class="news-container" id="news-container">
                    <div class="carousel1 swiper-wrapper">
                        <div class="carousel-chart1 swiper-slide" id="test3">
                            <div class="chart-title">当日各商品浏览量top5</div>
                            <div class="chart-box">
                                <ul id="top_goods_display_day">
                                    <li>
                                        <div class="box">
                                            <div class="img" style="background-image: url(./images/rank)"></div>
                                            <div class="content-box">
                                                <div class="text"></div>
                                                <div class="bar-box">
                                                    <div class="bar" style=""></div>
                                                    <div class="value"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- <ul>
                        <li>
                            <div class="box">
                            <div class="img">
                            <div class="num">1</div>
                            </div>
                            <div class="movie-name">电影1</div>
                            <div class="shape">sdf</div>
                            <div class="num">1232342</div>
                            </div>
                        </li>
                        <li>
                            <div class="box">
                                <div class="img">
                                    <div class="num">2</div>
                                </div>
                                <div class="movie-name">电影1</div>
                                <div class="shape">sdf</div>
                                <div class="num">1232342</div>
                            </div>
                        </li>
                        <li>
                            <div class="box">
                                <div class="img">
                                    <div class="num">3</div>
                                </div>
                                <div class="movie-name">电影1</div>
                                <div class="shape">sdf</div>
                                <div class="num">1232342</div>
                            </div>
                        </li>
                        <li>
                            <div class="box">
                                <div class="img">
                                    <div class="num">4</div>
                                </div>
                                <div class="movie-name">电影1</div>
                                <div class="shape">sdf</div>
                                <div class="num">1232342</div>
                            </div>
                        </li>
                        <li>
                            <div class="box">
                                <div class="img">
                                    <div class="num">5</div>
                                </div>
                                <div class="movie-name">电影1</div>
                                <div class="shape">sdf</div>
                                <div class="num">1232342</div>
                            </div>
                        </li>
                        <li>
                            <div class="box">
                                <div class="img">
                                    <div class="num">6</div>
                                </div>
                                <div class="movie-name">电影1</div>
                                <div class="shape">sdf</div>
                                <div class="num">1232342</div>
                            </div>
                        </li>
                        <li>
                            <div class="box">
                                <div class="img">
                                    <div class="num">7</div>
                                </div>
                                <div class="movie-name">电影1</div>
                                <div class="shape">sdf</div>
                                <div class="num">1232342</div>
                            </div>
                        </li>
                        <li>
                            <div class="box">
                                <div class="img">
                                    <div class="num">8</div>
                                </div>
                                <div class="movie-name">电影1</div>
                                <div class="shape">sdf</div>
                                <div class="num">1232342</div>
                            </div>
                        </li>
                        <li>
                            <div class="box">
                                <div class="img">
                                    <div class="num">9</div>
                                </div>
                                <div class="movie-name">电影1</div>
                                <div class="shape">sdf</div>
                                <div class="num">1232342</div>
                            </div>
                        </li>
                        <li>
                            <div class="box">
                                <div class="img">
                                    <div class="num">10</div>
                                </div>
                                <div class="movie-name">电影1</div>
                                <div class="shape">sdf</div>
                                <div class="num">1232342</div>
                            </div>
                        </li>
                    </ul> -->
                </div>
            </div>
            <div class="left-bottom swiper-container swiper3">
                <div class="carousel1 swiper-wrapper">
                    <div class="carousel-chart1 swiper-slide" id="test70"></div>
                    <div class="carousel-chart2 swiper-slide" id="test80"></div>
                    <div class="carousel-chart3 swiper-slide" id="test90"></div>
                    <div class="carousel-chart3 swiper-slide" id="test100"></div>
                </div>
            </div>
            <!--<div class="left-bottom" id="sex_advs_audience"></div>-->
        </div>
        <div class="center-box">
            <div class="center-top">
                <div class="money-room-box">
                    <div class="month-money">
                        <div>每月收益金额</div>
                        <div id="3">275634</div>
                    </div>
                    <div class="day-money">
                        <div>每日收益金额</div>
                        <div id="5">275634</div>
                    </div>
                    <div class="rooms">
                        <div id="1">入住活跃房间数量</div>
                        <div id="2">11312</div>
                    </div>
                </div>
                <div class="brand">风霆迅</div>
                <div class="current">
                    <div class="current-month">
                        <div>用户浏览数量</div>
                        <div id="current-month">6353454</div>
                    </div>
                    <div class="current-week">
                        <div id="week-num">片花播放数量</div>
                        <div id="current-week">31432</div>
                    </div>
                    <div class="current-day">
                        <div>订单数量</div>
                        <div id="current-day">4332</div>
                    </div>
                </div>
                <div class="brand">爱奇艺</div>
                <div class="current1">
                    <div class="current-month">
                        <div>用户浏览数量</div>
                        <div id="current-month1">2736324</div>
                    </div>
                    <div class="current-week">
                        <div id="week-num1">片花播放数量</div>
                        <div id="current-week1">21312</div>
                    </div>
                    <div class="current-day">
                        <div>订单数量</div>
                        <div id="current-day1">2754</div>
                    </div>
                </div>
            </div>
            <div class="center-middle" id="china_map"></div>
            <!--<div class="center-bottom">-->
                <!--<div class="bottom-left">-->
                    <!--<div class="room-num">-->
                        <!--<div>房间数</div>-->
                        <!--<div class="num-text" id="covered-rooms">1212434</div>-->
                    <!--</div>-->
                    <!--<div class="hotel-num">-->
                        <!--<div>酒店数</div>-->
                        <!--<div class="num-text" id="covered-hotels">435654</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <div class="right-box">
            <div class="right-top swiper-container swiper4">
                <div class="carousel2 swiper-wrapper">
                    <div class="carousel-chart3 swiper-slide" id="test11"></div>
                    <div class="carousel-chart4 swiper-slide" id="test12"></div>
                </div>
            </div>
            <div class="right-middle swiper-container swiper5">
                <div class="carousel2 swiper-wrapper">
                    <div class="carousel-chart3 swiper-slide" id="test21"></div>
                    <div class="carousel-chart4 swiper-slide" id="test22"></div>
                    <div class="carousel-chart4 swiper-slide" id="test23"></div>
                </div>
            </div>
            <!--<div class="right-bottom swiper-container swiper6">-->
                <!--<div class="carousel2 swiper-wrapper">-->
                    <!--<div class="carousel-chart3 swiper-slide" id="test31"></div>-->
                    <!--<div class="carousel-chart4 swiper-slide" id="test32"></div>-->
                <!--</div>-->
            <!--</div>-->
            <div class="right-bottom">
                <div class="title-text">
                    本周各省消费排名TOP5
                </div>
                <div id="stage">
                    <div style = "" class="bg"></div>
                    <div  class="default part">
                        <div class="name">广东省</div>
                        <div class="data">12342</div>
                    </div>
                    <div  class="default part">
                        <div class="name">浙江省</div>
                        <div class="data">2343</div>
                    </div>
                    <div  class="default part">
                        <div class="name">北京市</div>
                        <div class="data">2341</div>
                    </div>
                    <div  class="default part">
                        <div class="name">上海市</div>
                        <div class="data">1113</div>
                    </div>
                    <div  class="default part">
                        <div class="name">湖北省</div>
                        <div class="data">898</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<script src="js/jquery.js"></script>
<script src="js/common.js"></script>
<script src="js/echarts.min.js"></script>
<script src="js/echarts-gl.min.js"></script>
<script src="js/china.js"></script>
<script>

    var adNumber = {
        fontSizeNum: 18,
        allEchartObj: {},
        arrLength: "",
        init: function () {
            this.windowOnload();
            //除地图外的echart图数据，接口get_charts_advs
            this.createEchart();
            //热力图展示，接口advKanbanHeatData
            this.chinaMapShow();
            // 广告曝光频次
            this.avdDataShow();
            this.threeDRotate();

        },
        threeDRotate:function(){
            var that = this;
            var deg=0;
            /* Storing all the images into a variable */
            var rate = (that.fontSizeNum/100).toFixed(3);
            var images	= $('#stage .part').removeClass('default').addClass('animationReady');
            var dim		= { width:images.width(),height:images.height()};  //图片的宽高

            var cnt = images.length;  //多少张图片
            //
            // /* Finding the centers of the animation container: */
            var centerX = $('#stage').width()/2;  //外部stagge的一半
            var centerY = $('#stage').height()/2 - dim.height/2; //stage的一半减去图片高度的一半
            var cc = $('#stage').width()*0.3;
            console.log(cc)
            function rotate(step,total){
                deg+=step;
                var eSin,eCos,newWidth,newHeight,q;
                /* Loop through all the images: */
                for(var i=0;i<cnt;i++){
                    q = ((360/cnt)*i+deg)*Math.PI/180;
                    eSin		= Math.sin(q);
                    eCos		= Math.cos(q);
                    q = (0.6+eSin*0.1);
                    newWidth	= q*dim.width;
                    newHeight	= q*dim.height;
                    console.log(that.fontSizeNum);
                    images.eq(i).css({
                        // top			: centerY+15*eSin*3.5,
                        top         : centerY+eSin*80*rate,
                        left        : centerX+180*eCos*rate,
                        opacity     : 0.8+eSin*0.2,
                        marginLeft  : -newWidth/2,
                        zIndex      : Math.round(80+eSin*20),
                        "display": "flex",
                        "flex-direction": "column",
                        "justify-content": "center",
                        "align-items": "center",
                        "fontSize":newWidth/7,
                    }).width(newWidth).height(newHeight);
                    // var list=[];
                    // $.each(images,function(i,v){
                    //     list.push($(v).width())
                    // })
                    // var index = list.indexOf(Math.max.apply(Math, list))
                    // images.eq(index).css({
                    //     opacity		: 1
                    // });
                }
                total-=Math.abs(step);
                if(total<=0) return false;

                // Setting the function to be run again in 40 seconds (equals to 25 frames per second):
                setTimeout(function(){rotate(step,total)},40);

            }
            // Running the animation once at load time (and moving the iPhone into view):
            rotate(20,360/cnt);
            var timer=null;
            timer=setInterval(function(){rotate(10,360/cnt);},5000);
        },
        windowOnload: function () {
            var that = this;
            setRemSize();
            $(window).resize(function () {          //当浏览器大小变化时
                setRemSize();
                location.reload();
            });
            //页面定时10分钟刷新
            var interAn = setInterval(function(){
                window.location.reload();
            },1000*60*5);
            function setRemSize() {
                that.fontSizeNum = document.documentElement.clientWidth / 1920 * 100;
                //将得到的rem值复制给根元素的font-size
                document.documentElement.style.fontSize = that.fontSizeNum + "px";
            }
        },
        createEchart: function () {
            var that = this;

            var bar1 = {
                chart_type: "bar",
                label: ["西游记", "叶问4", "只有芸知道", "魔镜奇缘","误杀",
                    "唐顿庄园", "冰雪奇缘2", "被光抓走的人", "父子拳王","天·火"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[173,200,210,220,290,327,343,350,480,500]
            }
            var  bar2 = {
                chart_type: "bar",
                label: ["西游记", "叶问4", "只有芸知道", "魔镜奇缘","误杀",
                    "唐顿庄园", "冰雪奇缘2", "被光抓走的人", "父子拳王","天·火"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[273,300,310,320,390,427,443,450,580,600]
            }
            var bar3 = {
                chart_type: "bar",
                label: ["西游记", "叶问4", "只有芸知道", "魔镜奇缘","误杀",
                    "唐顿庄园", "冰雪奇缘2", "被光抓走的人", "父子拳王","天·火"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[573,600,610,620,690,727,743,750,880,900]
            }
            var bar4 = {
                chart_type: "bar",
                label: ["西游记", "叶问4", "只有芸知道", "魔镜奇缘","误杀",
                    "唐顿庄园", "冰雪奇缘2", "被光抓走的人", "父子拳王","天·火"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[123,130,150,220,290,291,343,370,600,700]
            }
            var bar5 = {
                chart_type: "bar",
                label: ["西游记", "叶问4", "只有芸知道", "魔镜奇缘","误杀",
                    "唐顿庄园", "冰雪奇缘2", "被光抓走的人", "父子拳王","天·火"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[223,230,250,320,390,391,443,470,700,800]
            }
            var bar6 = {
                chart_type: "bar",
                label: ["西游记", "叶问4", "只有芸知道", "魔镜奇缘","误杀",
                    "唐顿庄园", "冰雪奇缘2", "被光抓走的人", "父子拳王","天·火"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[323,330,350,420,490,491,543,570,800,900]
            }
            var bar7 = {
                chart_type: "bar",
                label: ["酒店1", "酒店2", "酒店3", "酒店4","酒店5",
                    "酒店6", "酒店7", "酒店8", "酒店9","酒店10"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[323,456,478,500,532,543,557,800,900,1000]
            }
            var  bar8 = {
                chart_type: "bar",
                label: ["酒店1", "酒店2", "酒店3", "酒店4","酒店5",
                    "酒店6", "酒店7", "酒店8", "酒店9","酒店10"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[8,9.9,10.6,11,12,13,14,15,16,17]
            }

            var  bar9 = {
                chart_type: "bar",
                label: ["酒店1", "酒店2", "酒店3", "酒店4","酒店5",
                    "酒店6", "酒店7", "酒店8", "酒店9","酒店10"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[1323,2456,2478,2500,3532,3543,4557,4800,4900,5100]
            }

            var bar10 = {
                chart_type: "bar",
                label: ["酒店1", "酒店2", "酒店3", "酒店4","酒店5",
                    "酒店6", "酒店7", "酒店8", "酒店9","酒店10"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[7.6,8,8.8,9,9.6,10,12,13,14,15]
            }

            var bar11 = {
                chart_type: "bar",
                label: ["星期1", "星期2", "星期3", "星期4","星期5", "星期6", "星期日"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                name:["本周","上周"],
                value:[
                    [21311,12133,62343,23432,18472,46737,23443],
                    [12124,22133,32343,12432,28472,36737,43443]
                ]
            }

            var bar12 = {
                chart_type: "bar",
                label: ["第一周", "第二周", "第三周", "第四周"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                name:["本月","上月"],
                value:[
                    [121311,212133,362343,223432],
                    [212124,322133,432343,512432]
                ]
            }
            var pie1 = {
                chart_type: "pie",
                label: ["男", "女"],
                title_label: "性别受众比例",
                title_value: "top_play_auto",
                name:["本月","上月"],
                value:[
                    {value: "48658", name: "男"},
                    {value: "17262", name:"女"}
                ]
            }
            var pie2 = {
                chart_type: "pie",
                label: ["男", "女"],
                title_label: "性别受众比例",
                title_value: "top_play_auto",
                name:["本月","上月"],
                value:[
                    {value: "58658", name: "男"},
                    {value: "37262", name:"女"}
                ]
            }
            var pie3 = {
                chart_type: "pie",
                label: ["男", "女"],
                title_label: "性别受众比例",
                title_value: "top_play_auto",
                name:["本月","上月"],
                value:[
                    {value: "58658", name: "男"},
                    {value: "27262", name:"女"}
                ]
            }
            var bar14 = {
                chart_type: "bar",
                label: ["广东省", "北京市", "上海市",
                    "湖北省", "浙江省"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[5211, 4125, 2930, 2450,1600]
            }

            var bar15 = {
                chart_type: "bar",
                label: ["广东省", "北京市", "上海市",
                    "湖北省", "浙江省"],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                value:[15211, 13125, 11930, 9950,7600]
            }
            var bar16 = {
                chart_type: "bar",
                label: ["当日付费男女比例", "当日入住男女比例",],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                name:["男","女"],
                value:[
                    [4121,8213],
                    [2221,5121]
                ]
            }
            var bar17 = {
                chart_type: "bar",
                label: ["本周付费男女比例", "本周入住男女比例",],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                name:["男","女"],
                value:[
                    [4121*7,8213*7],
                    [2221*7,5121*7]
                ]
            }
            var bar18 = {
                chart_type: "bar",
                label: ["本月付费男女比例", "本月入住男女比例",],
                title_label: "自动播放数据排名(万次)",
                title_value: "top_play_auto",
                name:["男","女"],
                value:[
                    [4121*30,8213*30],
                    [2221*30,5121*30]
                ]
            }
            $.post(GPATH.queryChartsAdvs, function (data) {

                if (data.res) {
                    var color = ["#00BAFF", "#00BAFF"];
                    var option = options.normalBarChart(color, bar1.label, [...bar1.value].reverse(), that.fontSizeNum);
                    option.title.text = "当日电影点播排行top10";
                    option.series[0].itemStyle.normal.label.show = true;
                    var echartObj = new EchartObj("test10", option);
                    echartObj.setOp();
                    var temp1 = 0;
                    setInterval(function () {
                        if(temp1==0){
                            var color = ["#12EE25", "#12EE25"];
                            var option = options.normalBarChart(color, bar2.label, [...bar2.value].reverse(), that.fontSizeNum);
                            option.title.text = "本周电影点播排行top10";
                            option.series[0].itemStyle.normal.label.show = true;
                            var echartObj = new EchartObj("test10", option);
                            echartObj.myChart.clear();
                            echartObj.setOp();

                        }else if(temp1==1){
                            var color = ["#12EEDD", "#12EEDD"];
                            var option = options.normalBarChart(color, bar3.label, [...bar3.value].reverse(), that.fontSizeNum);
                            option.title.text = "本月电影点播排行top10";
                            option.series[0].itemStyle.normal.label.show = true;
                            var echartObj = new EchartObj("test10", option);
                            echartObj.myChart.clear();
                            echartObj.setOp();
                        }else if(temp1==2){
                            var color = ["#00BAFF", "#00BAFF"];
                            var option = options.normalBarChart(color, bar1.label, [...bar1.value].reverse(), that.fontSizeNum);
                            option.title.text = "当日电影点播排行top10";
                            option.series[0].itemStyle.normal.label.show = true;
                            var echartObj = new EchartObj("test10", option);
                            echartObj.myChart.clear();
                            echartObj.setOp();
                        }
                        temp1++;
                        if(temp1==3){
                            temp1=0;
                        }
                    },9000)
                        var html ="";
                        $.each(bar14.value,function (i,v) {
                            html=""
                        })
                    // <li>
                    // <div class="box">
                    //     <div class="img">
                    //     <div class="num">1</div>
                    //     </div>
                    //     <div class="movie-name">电影1</div>
                    //     <div class="shape">sdf</div>
                    //     <div class="num">1232342</div>
                    //     </div>
                    //     </li>

                    // $("#news-container ul).html(html);
                    // var color = ["#12EEDD", "#12EEDD"];
                    // var option = options.normalBarChart(color, bar3.label, bar3.value.reverse(), that.fontSizeNum);
                    // option.title.text = "本月电影点播排行top10";
                    // option.series[0].itemStyle.normal.label.show = true;
                    // var echartObj = new EchartObj("test30", option);
                    // echartObj.setOp();

                    // var color = ["#60F142", "#60F142"];
                    // var option = options.normalBarChart(color, bar4.label, bar4.value.reverse(), that.fontSizeNum);
                    // option.title.text = "当月付费电影播放排行top10";
                    // option.series[0].itemStyle.normal.label.show = true;
                    // var echartObj = new EchartObj("test40", option);
                    // echartObj.setOp();
                    //
                    // var color = ["#147769", "#147769"];
                    // var option = options.normalBarChart(color, bar5.label, bar5.value.reverse(), that.fontSizeNum);
                    // option.title.text = "当月付费电影播放排行top10";
                    // option.series[0].itemStyle.normal.label.show = true;
                    // var echartObj = new EchartObj("test50", option);
                    // echartObj.setOp();
                    //
                    // var color = ["#DFD79F", "#DFD79F"];
                    // var option = options.normalBarChart(color, bar6.label, bar6.value.reverse(), that.fontSizeNum);
                    // option.title.text = "当月付费电影播放排行top10";
                    // option.series[0].itemStyle.normal.label.show = true;
                    // var echartObj = new EchartObj("test60", option);
                    // echartObj.setOp();

                    var color = ["#DAEF13", "#DAEF13"];
                    var option = options.normalBarChart(color, bar7.label, bar7.value.reverse(), that.fontSizeNum);
                    option.title.text = "当日酒店收益top10";
                    option.series[0].itemStyle.normal.label.show = true;
                    var echartObj = new EchartObj("test70", option);
                    echartObj.setOp();

                    var color = ["#63148C", "rgba(99,20,140,0.4)"];
                    var option = options.normalBarChart(color, bar8.label, bar8.value.reverse(), that.fontSizeNum);
                    option.title.text = "当日酒店收益top10的点播价格";
                    option.series[0].itemStyle.normal.label.show = true;
                    var echartObj = new EchartObj("test80", option);
                    echartObj.setOp();

                    var color = ["#12EE25", "#12EE25"];
                    var option = options.normalBarChart(color, bar9.label, bar9.value.reverse(), that.fontSizeNum);
                    option.title.text = "当月酒店收益top10";
                    option.series[0].itemStyle.normal.label.show = true;
                    var echartObj = new EchartObj("test90", option);
                    echartObj.setOp();

                    var color = ["#1286EB", "#1286EB"];
                    var option = options.normalBarChart(color, bar10.label, bar10.value.reverse(), that.fontSizeNum);
                    option.title.text = "当月酒店收益top10的点播价格";
                    option.series[0].itemStyle.normal.label.show = true;
                    var echartObj = new EchartObj("test100", option);
                    echartObj.setOp();

                    var color =["#F0D517","rgba(240,213,23,.6)","rgba(240,213,23,.1)",
                        "#01AFF3","rgba(1,175,243,.6)","rgba(1,175,243,.1)"];
                    var option = options.lineChart(color,bar11.label,bar11.value,bar11.name,that.fontSizeNum);
                    option.title.text = "本周与上周收益对比";
                    option.xAxis[0]["nameTextStyle"]={fontSize:that.fontSizeNum?that.fontSizeNum/8:14};
                    option.yAxis[0]["nameTextStyle"]={fontSize:that.fontSizeNum?that.fontSizeNum/8:14};
                    var echartObj = new EchartObj("test11", option);
                    echartObj.setOp();

                    var color =["#01AFF3","rgba(1,175,243,.6)","rgba(1,175,243,.1)",
                        "#F0D517","rgba(240,213,23,.6)","rgba(240,213,23,.1)"];
                    var option = options.lineChart(color,bar12.label,bar12.value,bar12.name,that.fontSizeNum);
                    option.title.text = "本月与上月收益对比";
                    option.xAxis[0]["nameTextStyle"]={fontSize:that.fontSizeNum?that.fontSizeNum/8:14};
                    option.yAxis[0]["nameTextStyle"]={fontSize:that.fontSizeNum?that.fontSizeNum/8:14};
                    var echartObj = new EchartObj("test12", option);
                    echartObj.setOp();

                    //
                    // var color = ["#00BAFF", "#00BAFF"];
                    // var option = options.noBgBarChart(color, bar14.label, bar14.value.reverse(), that.fontSizeNum);
                    // option.title.text = "本周各省份消费排名top5";
                    // var echartObj = new EchartObj("test31", option);
                    // echartObj.setOp();
                    //
                    // var color = ["#00BAFF", "#00BAFF"];
                    // var option = options.noBgBarChart(color, bar15.label, bar15.value.reverse(), that.fontSizeNum);
                    // option.title.text = "本月各省份消费排名top5";
                    // var echartObj = new EchartObj("test32", option);
                    // echartObj.setOp();




                    var color = ["#01AFF3", "#3DE7C9"];
                    var data = [{
                        name: '男性',
                        type: 'bar',
                        barWidth: '25%',
                        data: bar16.value[0],
                        itemStyle: {
                            normal: {
                                label: {
                                    show: true,		//开启显示
                                    position: 'right',	//在上方显示
                                    textStyle: {	    //数值样式
                                        color: '#fff',
                                        fontSize: that.fontSizeNum ? that.fontSizeNum / 7 : 14
                                    }
                                }
                            }
                        }
                    },
                        {
                            name: '女性',
                            type: 'bar',
                            barWidth: '25%',
                            data: bar16.value[1],
                            itemStyle: {
                                normal: {
                                    label: {
                                        show: true,		//开启显示
                                        position: 'right',	//在上方显示
                                        textStyle: {	    //数值样式
                                            color: '#fff',
                                            fontSize: that.fontSizeNum ? that.fontSizeNum / 7 : 14
                                        }
                                    }
                                }
                            }
                        },]
                    var option = options.stackedBarChart(color, bar16.label, data, that.fontSizeNum);
                    option.title.text = "当日入住男女比例和付费男女比例";
                    var echartObj = new EchartObj("test21", option);
                    echartObj.setOp();

                    var color = ["#01AFF3", "#3DE7C9"];
                    var data = [{
                        name: '男性',
                        type: 'bar',
                        barWidth: '25%',
                        data: bar17.value[0],
                        itemStyle: {
                            normal: {
                                label: {
                                    show: true,		//开启显示
                                    position: 'right',	//在上方显示
                                    textStyle: {	    //数值样式
                                        color: '#fff',
                                        fontSize: that.fontSizeNum ? that.fontSizeNum / 7 : 14
                                    }
                                }
                            }
                        }
                    },
                        {
                            name: '女性',
                            type: 'bar',
                            barWidth: '25%',
                            data: bar17.value[1],
                            itemStyle: {
                                normal: {
                                    label: {
                                        show: true,		//开启显示
                                        position: 'right',	//在上方显示
                                        textStyle: {	    //数值样式
                                            color: '#fff',
                                            fontSize: that.fontSizeNum ? that.fontSizeNum / 7 : 14
                                        }
                                    }
                                }
                            }
                        },]
                    var option = options.stackedBarChart(color, bar17.label, data, that.fontSizeNum);
                    option.title.text = "本周入住男女比例和付费男女比例";
                    var echartObj = new EchartObj("test22", option);
                    echartObj.setOp();

                    var color = ["#01AFF3", "#3DE7C9"];
                    var data = [{
                        name: '男性',
                        type: 'bar',
                        barWidth: '25%',
                        data: bar18.value[0],
                        itemStyle: {
                            normal: {
                                label: {
                                    show: true,		//开启显示
                                    position: 'right',	//在上方显示
                                    textStyle: {	    //数值样式
                                        color: '#fff',
                                        fontSize: that.fontSizeNum ? that.fontSizeNum / 7 : 14
                                    }
                                }
                            }
                        }
                    },
                        {
                            name: '女性',
                            type: 'bar',
                            barWidth: '25%',
                            data: bar18.value[1],
                            itemStyle: {
                                normal: {
                                    label: {
                                        show: true,		//开启显示
                                        position: 'right',	//在上方显示
                                        textStyle: {	    //数值样式
                                            color: '#fff',
                                            fontSize: that.fontSizeNum ? that.fontSizeNum / 7 : 14
                                        }
                                    }
                                }
                            }
                        },]
                    var option = options.stackedBarChart(color, bar18.label, data, that.fontSizeNum);
                    option.title.text = "本月入住男女比例和付费男女比例";
                    var echartObj = new EchartObj("test23", option);
                    echartObj.setOp();

                    var gundong = [
                        ["天·火",700],
                        ["父子拳王",600],
                        ["被光抓走的人",370],
                        ["冰雪奇缘2",343],
                        ["唐顿庄园",291],
                        ["误杀",290],
                        ["魔镜奇缘",220],
                        ["只有芸知道",150],
                        ["叶问4",130],
                        ["西游记",123]
                    ];
                    var max="";
                    $.each(gundong,function (i,v) {
                        if(v[1]>max){
                            max = v[1]
                        }
                    })
                    var html="";
                    $.each(gundong,function (i,v) {
                        var liHtml = "<li>\n" +
                            "                            <div class=\"box\">\n" +
                            "                                <div class=\"img\">\n" +
                            "                                <div class=\"num\">"+(i+1)+"</div>\n" +
                            "                                </div>\n" +
                            "                                <div class=\"movie-name\">"+v[0]+"</div>\n" +
                            "                                <div style='display: flex;flex-direction: column;justify-content: center' class=\"shape\">" +
                            "                                 <div style='border-radius:.15rem;width:"+v[1]*100/max+"%;height:40%;background:#DAEF13;'></div>" +
                            "                                  </div>\n" +
                            "                                <div class=\"num\">"+v[1]+"</div>\n" +
                            "                            </div>\n" +
                            "                        </li>"
                        html+=liHtml;

                    })

                    $("#news-container").find("ul").html(html)
                    var content = data.data;
                    $.each(content, function (i, v) {
                        // var bgData = that.bgData(v.value);  需要柱状图背景图时启用
                        var domID = v.title_value;

                        // switch (v.title_value) {
                        //     case "top_advs_content_play":
                        //         var color = ["#3DE7C9", "#3DE7C9"];
                        //         v.value.reverse();
                        //         v.label.reverse();
                        //         var option = options.noBgBarChart(color, v.label, v.value, that.fontSizeNum);
                        //         option.title.text = "月度主流广告产品播放频次(万次)";
                        //         var echartObj = new EchartObj(domID, option);
                        //         that.allEchartObj[domID] = echartObj;
                        //         echartObj.setOp();
                        //         break;
                        //     case "top_play_act":
                        //         var color = ["#00BAFF", "#00BAFF"];
                        //         v.value.reverse();
                        //         v.label.reverse();
                        //         var option = options.noBgBarChart(color, v.label, v.value, that.fontSizeNum);
                        //         option.title.text = "用户交互数据排名(万次)";
                        //         var echartObj = new EchartObj(domID, option);
                        //         that.allEchartObj[domID] = echartObj;
                        //         echartObj.setOp();
                        //         break;
                        //     case "pie_cust_type":
                        //         var arr = v.value;
                        //         that.arrLength = arr.length;
                        //
                        //         var color = ["#FFFFFF", "#08DFDF", "#FFB980", "#5AB1EF", "#19CB50", "#3DE7C9", "#B6A2DE"]
                        //         var option = options.pieChartOther(color, v.label, v.value, that.fontSizeNum);
                        //         option.legend = null;
                        //         option.series[0].radius = ['40%', '50%'],
                        //             option.series[0].center = ['46%', '60%'],
                        //             option.title.text = "合作客户行业分布";
                        //         var echartObj = new EchartObj(domID, option);
                        //         that.allEchartObj[domID] = echartObj;
                        //         echartObj.setOp();
                        //         break;
                        //     case "ages_advs_audience":
                        //         var color = ["#01AFF3", "#3DE7C9"];
                        //         var data = [{
                        //             name: '男性',
                        //             type: 'bar',
                        //             barWidth: '30%',
                        //             data: v.value[0].reverse(),
                        //             itemStyle: {
                        //                 normal: {
                        //                     label: {
                        //                         show: true,		//开启显示
                        //                         position: 'right',	//在上方显示
                        //                         textStyle: {	    //数值样式
                        //                             color: '#fff',
                        //                             fontSize: that.fontSizeNum ? that.fontSizeNum / 7 : 14
                        //                         }
                        //                     }
                        //                 }
                        //             }
                        //         },
                        //             {
                        //                 name: '女性',
                        //                 type: 'bar',
                        //                 barWidth: '30%',
                        //                 data: v.value[1].reverse(),
                        //                 itemStyle: {
                        //                     normal: {
                        //                         label: {
                        //                             show: true,		//开启显示
                        //                             position: 'right',	//在上方显示
                        //                             textStyle: {	    //数值样式
                        //                                 color: '#fff',
                        //                                 fontSize: that.fontSizeNum ? that.fontSizeNum / 7 : 14
                        //                             }
                        //                         }
                        //                     }
                        //                 }
                        //             },]
                        //         v.label.reverse();
                        //         var option = options.stackedBarChart(color, v.label, data, that.fontSizeNum);
                        //         option.title.text = "年龄受众比例(百人/周)";
                        //         var echartObj = new EchartObj(domID, option);
                        //         that.allEchartObj[domID] = echartObj;
                        //         echartObj.setOp();
                        //         break;
                        //     case "top_play_auto":
                        //         var color = ["#3DE7C9", "#1FCF25"];
                        //         v.value.reverse();
                        //         v.label.reverse();
                        //         var option = options.noBgBarChart(color, v.label, v.value, that.fontSizeNum);
                        //         option.title.text = "自动播放数据排名(万次)";
                        //         var echartObj = new EchartObj(domID, option);
                        //         that.allEchartObj[domID] = echartObj;
                        //         echartObj.setOp();
                        //         break;
                        //     case "top_province_view":
                        //         var color = ["#00BAFF", "#00BAFF"];
                        //         var option = options.normalBarChart(color, v.label, v.value, that.fontSizeNum);
                        //         option.title.text = "入住浓度地区分布TOP5";
                        //         option.series[0].itemStyle.normal.label.show = true;
                        //         var echartObj = new EchartObj(domID, option);
                        //         that.allEchartObj[domID] = echartObj;
                        //         echartObj.setOp();
                        //         break;
                        //     case "sex_advs_audience":
                        //         var color = ["#FFFFFF", "#08DFDF", "#FFB980", "#5AB1EF", "#19CB50", "#3DE7C9", "#B6A2DE"]
                        //         var option = options.pieChartOther(color, v.label, v.value, that.fontSizeNum);
                        //         option.title.text = "受众性别比例";
                        //         option.graphic.elements[0].style.image = "images/sex.png"
                        //         var echartObj = new EchartObj(domID, option);
                        //         that.allEchartObj[domID] = echartObj;
                        //         echartObj.setOp();
                        //         break;
                        // }
                    })
                }

            }, "json");

            var mySwiper = new Swiper('.swiper1', {
                // direction: 'vertical', // 垂直切换选项
                direction: 'horizontal', // 横向切换选项
                // loop: true, // 循环模式选项
                speed: 1000,
                autoplay: {
                    delay: 10000,//时间 毫秒
                    disableOnInteraction: false,//用户操作之后是否停止自动轮播默认true
                },
                // speed:3000
            })
            var mySwiper = new Swiper('.swiper2', {
                // direction: 'vertical', // 垂直切换选项
                direction: 'vertical', // 横向切换选项
                // loop: true, // 循环模式选项
                speed: 1000,
                autoplay: {
                    delay: 11000,//时间 毫秒
                    disableOnInteraction: false,//用户操作之后是否停止自动轮播默认true
                },
                // speed:3000
            })
            var mySwiper = new Swiper('.swiper3', {
                // direction: 'vertical', // 垂直切换选项
                direction: 'horizontal', // 横向切换选项
                // loop: true, // 循环模式选项
                speed: 1000,
                autoplay: {
                    delay: 8000,//时间 毫秒
                    disableOnInteraction: false,//用户操作之后是否停止自动轮播默认true
                },
                // speed:3000
            })
            var mySwiper = new Swiper('.swiper4', {
                // direction: 'vertical', // 垂直切换选项
                direction: 'vertical', // 横向切换选项
                // loop: true, // 循环模式选项
                speed: 1000,
                autoplay: {
                    delay: 13000,//时间 毫秒
                    disableOnInteraction: false,//用户操作之后是否停止自动轮播默认true
                },
                // speed:3000
            })
            var mySwiper = new Swiper('.swiper5', {
                // direction: 'vertical', // 垂直切换选项
                direction: 'horizontal', // 横向切换选项
                // loop: true, // 循环模式选项
                speed: 1000,
                autoplay: {
                    delay: 9000,//时间 毫秒
                    disableOnInteraction: false,//用户操作之后是否停止自动轮播默认true
                },
                // speed:3000
            })
            var mySwiper = new Swiper('.swiper6', {
                // direction: 'vertical', // 垂直切换选项
                direction: 'vertical', // 横向切换选项
                // loop: true, // 循环模式选项
                speed: 1000,
                autoplay: {
                    delay: 7000,//时间 毫秒
                    disableOnInteraction: false,//用户操作之后是否停止自动轮播默认true
                },
                // speed:3000
            })
            $('#news-container').vTicker({
                speed: 700,
                pause: 4000,
                animation: 'fade',
                mousePause: false,
                showItems: 6
            });
            // var speed = 20;
            // var app = document.getElementById('app');
            // var slide1 = document.getElementById('slide1');
            // var slide2 = document.getElementById('slide2');
            // slide2.innerHTML = slide1.innerHTML;
            // var timer ,timeout;
            // function marqueeMethods(){
            //     console.log(app.scrollTop)
            //     clearTimeout(timeout)
            //     if(slide2.offsetTop-app.scrollTop<=0){
            //         app.scrollTop = app.scrollTop - slide1.offsetHeight;
            //     }else{
            //         console.log(123)
            //         app.scrollTop++;
            //         if(app.scrollTop%30==0){
            //             clearTimeout(timeout);
            //             clearInterval(timer);
            //             timeout = setTimeout(function(){
            //                 app.scrollTop++;
            //                 return timer = setInterval(marqueeMethods,speed);
            //             },1000);
            //         }
            //     }
            // }
            // timer = setInterval(marqueeMethods,speed);
        },
        avdDataShow: function () {
            var that = this;
            //获取第几周
            // var getYearWeek = function () {
            //     var date = new Date();
            //     var year = date.getFullYear();
            //     var month = date.getMonth() + 1;
            //     var strDate = date.getDate();
            //     var date1 = new Date(year, parseInt(month) - 1, strDate),
            //         date2 = new Date(year, 0, 1),
            //         d = Math.round((date1.valueOf() - date2.valueOf()) / 86400000);
            //     return Math.ceil((d + ((date2.getDay() + 1) - 1)) / 7);
            // };
            // var week = getYearWeek()
            // $("#week-num").html("W" + week);

            $.ajax({
                url: GPATH.queryNumbersAdvs,
                type: "GET",
                dataType: "json"
            }).then(function (data) {

                $.each(data, function (i, v) {
                    switch (v.label) {
                        case "total":
                            $(".history-data").html(toThousands(v.value))
                            break;
                        case "year_2018":
                            var thisYearData = data[1].value - v.value;
                            $(".this-year-data").html(toThousands(thisYearData))
                            break;
                        // case "month":
                        //     $("#current-month").html(toThousands(v.value))
                        //     break;
                        // case "week":
                        //     $("#current-week").html(toThousands(v.value));
                        //     break;
                        // case "coveredRooms":
                        //     $("#covered-rooms").html(toThousands(v.value));
                        //     break;
                        case "coveredHotels":
                            $("#covered-hotels").html(toThousands(v.value));
                            break;
                        case "num_person_history":
                            $("#num_person_history").html(toThousands(v.value));
                            break;
                        case "num_person_month":
                            $("#num_person_month").html(toThousands(v.value));
                            break;
                    }
                })

                $.ajax({
                    url: GPATH.advTodayAdvsData,
                    type: "GET",
                    dataType: "json"
                }).then(function (data) {
                    if (data.res) {
                        // $("#current-day").html(toThousands(data.msg))
                        // if ($("#current-week").html() == 0) {
                        //     $("#current-week").html(toThousands(data.msg));
                        // }
                    }
                }).catch(function (data) {
                    console.log(data.res)
                })
            })

            function toThousands(num) {
                var num = (num || 0).toString(), result = '';
                while (num.length > 3) {
                    result = ',' + num.slice(-3) + result;
                    num = num.slice(0, num.length - 3);
                }
                if (num) {
                    result = num + result;
                }
                return result;
            }

            //数字动态
            function num_counter(domID) {
                var decimal_places = 1;
                var decimal_factor = decimal_places === 0 ? 1 : decimal_places * 10;
                $(domID).animateNumber(
                    {
                        number: 100 * decimal_factor,
                        color: 'green',
                        'font-size': '30px',

                        numberStep: function (now, tween) {
                            var floored_number = Math.floor(now) / decimal_factor,
                                target = $(tween.elem);
                            if (decimal_places > 0) {
                                floored_number = floored_number.toFixed(decimal_places);
                            }
                            target.text(floored_number + ' %');
                        }
                    },
                    15000
                )
            }
        },
        chinaMapShow: function () {
            var that = this;
            var option = options.heatMapChart([], that.fontSizeNum);
            var domID = "china_map";
            var echartObj = new EchartObj(domID, option);
            echartObj.setOp();
            $.post(GPATH.advKanbanHeatData, function (data) {
                if (data.res) {
                    var heatBox = data.msg;
                    var option = options.heatMapChart(heatBox, that.fontSizeNum);
                    var domID = "china_map";
                    var echartObj = new EchartObj(domID, option);
                    echartObj.setOp();
                }
            }, "json");
        },

        //柱状图背景色数据函数
        bgData: function (data) {
            var max = 0, bgData = [];
            $.each(data, function (i, v) {
                if (max < Number(v)) max = v;
            })
            $.each(data, function (i, v) {
                bgData.push(max)
            })
            return bgData;
        },
    }
    $(function () {
        adNumber.init();
    });

</script>
<script src="js/swiper.min.js"></script>
<script src="js/jquery.vticker-min.js"></script>


</body>

</html>